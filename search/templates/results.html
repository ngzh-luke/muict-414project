<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{% block title %} Search Results {% endblock %}</title>
    <!-- import custom css
    <link
      type="text/css"
      rel="stylesheet"
      href="{{url_for('static', filename='search.css')}}"
    /> -->
    <!-- inherent root file -->
    {% extends 'root.html' %}
  </head>
  {% block body %}
  <body>
    {% if results %}
    <div id="results" class="px-2 py-2 mx-3 my-3" align="center">
      <h1
        style="
          font-size: xx-large;
          color: navy;
          font-weight: bold;
          font-size: xx-large;
        "
      >
        Search Results
      </h1>
      <table class="table table-warning table-hover border border-3">
        <thead>
          <tr>
            <th scope="col">Contents</th>
          </tr>
        </thead>
        <tbody>
          {% for doc in results %}
          <tr class="table-success">
            <th scope="row">1</th>
            <td>{{doc['name']}}</td>
            <td>{{doc['description']}}</td>
            <td>{{doc['created']}}</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
      <!-- page navigation bar adapted from Pisol Ruenin-->
      <nav aria-label="Page navigation">
        <ul class="pagination justify-content-center">
          {% if page_no!=1 %}
          <li class="page-item">
            <a class="page-link" href="?keyword={{ keyword }}&page=1">First</a>
          </li>
          <li class="page-item">
            <a
              class="page-link"
              href="?keyword={{ keyword }}&page={{ page_no-1 }}"
              aria-label="Previous"
            >
              <span aria-hidden="true">&laquo;</span>
            </a>
          </li>
          <li class="page-item">
            <a
              class="page-link"
              href="?keyword={{ keyword }}&page={{ page_no-1 }}"
              >{{ page_no-1 }}</a
            >
          </li>
          {% endif %} {% if totalPages!=1 %}
          <li class="page-item active">
            <a class="page-link" href="#">{{ page_no }}</a>
          </li>
          {% endif %} {% if page_no < totalPages %}
          <li class="page-item">
            <a
              class="page-link"
              href="?keyword={{ keyword }}&page={{ page_no+1 }}"
              >{{ page_no+1 }}</a
            >
          </li>
          <li class="page-item">
            <a
              class="page-link"
              href="?keyword={{ keyword }}&page={{ page_no+1 }}"
              aria-label="Next"
            >
              <span aria-hidden="true">&raquo;</span>
            </a>
          </li>
          <li class="page-item">
            <a
              class="page-link"
              href="?keyword={{ keyword }}&page={{ totalPages }}"
              >Last</a
            >
          </li>
          {% endif %}
        </ul>
      </nav>
    </div>
    {% else %}
    <div class="mx-2 my-2" align="center" style="top: 50%">
      <h1>Sorry, we could not found anything related.</h1>
    </div>
    {% endif %}
  </body>
  {% endblock %}
</html>
